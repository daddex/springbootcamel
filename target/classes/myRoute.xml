<?xml version="1.0" encoding="UTF-8"?>
 <beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://camel.apache.org/schema/spring 
       http://camel.apache.org/schema/spring/camel-spring.xsd">
	   
	<bean id="employeeAPI" class="org.daddex.springboot.api.EmployeeAPI" />
	<bean id="employeeController" class="org.daddex.springboot.controller.EmployeeController" />
	<bean id="imapEmailProcessor" class="org.daddex.springboot.controller.ImapEmailProcessor" />
	<bean id="jsonProvider" class="com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider"/>
	<bean id="commonValidationFeature" class="org.apache.cxf.validation.BeanValidationFeature"/>
	<bean id="imapAPI" class="org.daddex.springboot.api.ImapAPI" />
	<routeContext id="API_ROUTE"
		xmlns="http://camel.apache.org/schema/spring">
		<route trace="true" id="DADDEX_SPRING_BOOT_V1">
			<from
				uri="cxfrs:bean:daddexSpringBoot_v1?bindingStyle=SimpleConsumer" />
	 		<when>
				<simple>${in.header.operationName} == &#39;employeeItem&#39;</simple>
				<to uri="bean:employeeController?method=find" />
			</when>
			<when>
				<simple>${in.header.operationName} == &#39;retrieveEmail&#39;</simple>
				<to uri="bean:imapEmailProcessor?method=retrieveEmail" />
			</when>
		</route>
	</routeContext>
</beans>